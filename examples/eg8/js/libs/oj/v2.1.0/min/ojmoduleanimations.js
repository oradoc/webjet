/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","knockout","promise","ojs/ojanimation"],function(a,g){a.$={};a.$.c1={coverStart:{jr:"oj-animation-coverstart",zp:"oj-animation-coverstart",Ap:!0},coverUp:{zp:"oj-animation-coverup",Ap:!0},fade:{jr:"oj-animation-fade",zp:"oj-animation-fade",Ap:!1},pushStart:{jr:"oj-animation-revealstart",zp:"oj-animation-coverstart",Ap:!1},pushEnd:{jr:"oj-animation-revealend",zp:"oj-animation-coverend",Ap:!1},revealDown:{jr:"oj-animation-revealdown",Ap:!1},revealEnd:{jr:"oj-animation-revealend",
zp:"oj-animation-revealend",Ap:!1},zoomIn:{zp:"oj-animation-zoomin",Ap:!0},zoomOut:{jr:"oj-animation-zoomout",Ap:!1}};a.$.v3=function(a,b,d){var e=$(a);return new Promise(function(a){function c(){a(!0)}var g="oj-"+d,l=g+"-active";e.addClass(b);e.addClass(g);window.requestAnimationFrame(function(){e.addClass(l)});if((g=e.css("animationDuration")||e.css("webkitAnimationDuration"))&&"0s"!=g)e.on("animationend webkitAnimationEnd",c);else if((g=e.css("transitionDuration")||e.css("webkitTransitionDuration"))&&
"0s"!=g)e.on("transitionend webkitTransitionEnd",c);else a(!0)})};a.$.voa=function(c,b,d){var e=[];d=a.$.c1[d];c&&d&&d.jr&&e.push(a.$.v3(c,d.jr,"leave"));b&&d&&d.zp&&e.push(a.$.v3(b,d.zp,"enter"));return Promise.all(e)};a.$.c3=function(a,b){for(var d=g.virtualElements.firstChild(a);d;)1==d.nodeType?b.push(d):8==d.nodeType&&this.c3(d,b),d=g.virtualElements.nextSibling(d)};a.$.bpa=function(a,b){a._ojOldRoot=b};a.$.sua=function(a){return a._ojOldRoot};a.$.KR=function(c){if(c.isInitial)return!1;if(1==
c.node.nodeType)return!0;if(8==c.node.nodeType){var b=[];a.$.c3(c.node,b);if(b&&1==b.length)return a.$.bpa(c,b[0]),!0}return!1};a.$.w7=function(c){var b;1==c.node.nodeType?b=c.node:8==c.node.nodeType&&(b=a.$.sua(c));return b};a.$.gy=function(a){var b=$(document.createElement("div")),d={position:"absolute",height:a.offsetHeight+"px",width:a.offsetWidth+"px",left:a.offsetLeft+"px",top:a.offsetTop+"px"};b.appendTo(a.offsetParent);b.css(d);b.addClass("oj-animation-host-viewport");a=document.createElement("div");
a.className="oj-animation-host";b.append(a);return a};a.$.q5=function(c,b){var d={},e=a.$.c1[b],f=a.$.w7(c);e&&(e.zp&&!e.Ap&&(d.newViewParent=a.$.gy(f)),e.jr&&(d.oldViewParent=a.$.gy(f)),e.zp&&e.Ap&&(d.newViewParent=a.$.gy(f)));return d};a.$.o5=function(c,b){return a.$.voa(c.oldViewParent,c.newViewParent,b).then(function(){a.$.Z$(c)})};a.$.Xaa=function(a,b){var d=a[b];d&&(d=d.parentNode)&&d.parentNode&&d.parentNode.removeChild(d)};a.$.Z$=function(c){c.removeOldView();c.insertNewView();a.$.Xaa(c,"newViewParent");
a.$.Xaa(c,"oldViewParent")};a.$.jq=function(c){return{canAnimate:a.$.KR,prepareAnimation:function(b){return a.$.q5(b,c)},animate:function(b){return a.$.o5(b,c)}}};a.$.$S=function(c){null==a.$.YU&&(a.$.YU=a.td.Of("oj-animation-navigate-methods"));return a.$.YU?a.$.YU[c]:null};a.$.Vya=function(c,b){return a.$.$S(b)&&a.$.KR(c)};a.$.Wya=function(c,b){var d=a.$.$S(b);return a.$.q5(c,d)};a.$.Uya=function(c,b){var d=a.$.$S(b);return a.$.o5(c,d)};a.$.dJ=function(c){return{canAnimate:function(b){return a.$.Vya(b,
c)},prepareAnimation:function(b){return a.$.Wya(b,c)},animate:function(b){return a.$.Uya(b,c)}}};a.$.ZEa=a.$.jq("coverStart");o_("ModuleAnimations.coverStart",a.$.ZEa,a);a.$.nJa=a.$.jq("revealEnd");o_("ModuleAnimations.revealEnd",a.$.nJa,a);a.$.$Ea=a.$.jq("coverUp");o_("ModuleAnimations.coverUp",a.$.$Ea,a);a.$.mJa=a.$.jq("revealDown");o_("ModuleAnimations.revealDown",a.$.mJa,a);a.$.h_=a.$.jq("zoomIn");o_("ModuleAnimations.zoomIn",a.$.h_,a);a.$.i_=a.$.jq("zoomOut");o_("ModuleAnimations.zoomOut",a.$.i_,
a);a.$.KFa=a.$.jq("fade");o_("ModuleAnimations.fade",a.$.KFa,a);a.$.MIa=a.$.jq("pushStart");o_("ModuleAnimations.pushStart",a.$.MIa,a);a.$.LIa=a.$.jq("pushEnd");o_("ModuleAnimations.pushEnd",a.$.LIa,a);a.$.tha=a.$.dJ("navChild");o_("ModuleAnimations.navChild",a.$.tha,a);a.$.uha=a.$.dJ("navParent");o_("ModuleAnimations.navParent",a.$.uha,a);a.$.DFa=a.$.tha;o_("ModuleAnimations.drillIn",a.$.DFa,a);a.$.EFa=a.$.uha;o_("ModuleAnimations.drillOut",a.$.EFa,a);a.$.uIa=a.$.dJ("navSiblingEarlier");o_("ModuleAnimations.navSiblingEarlier",
a.$.uIa,a);a.$.vIa=a.$.dJ("navSiblingLater");o_("ModuleAnimations.navSiblingLater",a.$.vIa,a);a.$.LJa=function(c){return new function(){function b(a){return function(b){return d[a].call(d,b)}}var d,e=this;this.canAnimate=function(f){var g=c(f);d=null==g?null:a.ModuleAnimations[g];if(!d)return!1;for(var g=["prepareAnimation","animate"],k=0;k<g.length;k++){var l=g[k];e[l]=b(l)}return b("canAnimate")(f)}}};o_("ModuleAnimations.switcher",a.$.LJa,a);a.$.aFa=function(c,b,d){return{canAnimate:a.$.KR,prepareAnimation:function(e){var f=
{};e=a.$.w7(e);b&&!d&&(f.newViewParent=a.$.gy(e));c&&(f.oldViewParent=a.$.gy(e));b&&d&&(f.newViewParent=a.$.gy(e));return f},animate:function(d){var f=d.oldViewParent,g=d.newViewParent,k=[];f&&c&&k.push(a.W.On(f,"close",c));g&&b&&k.push(a.W.On(g,"open",b));return Promise.all(k).then(function(){a.$.Z$(d)})}}};o_("ModuleAnimations.createAnimation",a.$.aFa,a)});