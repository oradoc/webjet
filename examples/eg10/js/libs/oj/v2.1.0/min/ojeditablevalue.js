/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","hammerjs","ojs/ojjquery-hammer","ojs/ojcomponentcore","ojs/ojvalidation","ojs/ojpopup"],function(a,g,c){var b={sja:1,q_:2,u_:3,a0:4,b0:5,c0:6,lka:7,zka:8,D0:9,E0:10,Cka:11},d={jt:!0,sm:b.q_},e={jt:!0,sm:b.u_},f={jt:!0,sm:b.c0},h={jt:!0,sm:b.a0},k={jt:!0,sm:b.b0},l={jt:!0,sm:b.E0};a.Na("oj.editableValue",g.oj.baseComponent,{widgetEventPrefix:"oj",options:{disabled:!1,displayOptions:void 0,help:{definition:null,source:null},messagesCustom:void 0,messagesHidden:void 0,
messagesShown:void 0,required:!1,title:"",validators:void 0,value:void 0},getNodeBySubId:function(a){return this._super(a)},isValid:function(){void 0===this.XW&&(this.XW=this.qua());return this.XW},refresh:function(){this._super();this.I5(!0)},reset:function(){this.WH();this.gE(this.Pm.lka);this.uV(this.options.value,!0)},showMessages:function(){var b=[],c,d,e=this.options.messagesHidden,h=!1;for(c=0;c<e.length;c++)h=!0,d=e[c],d instanceof a.ce&&d.xsa(),b.push(d.clone());h&&(this.lC("messagesHidden"),
this.lL("messagesShown",b))},validate:function(){return this.Dc(this.Li(),null,this.PB)},QB:{z_:1,Bka:2,d0:3},Pm:b,PB:{ow:!1,sm:b.D0},Wf:function(a,b){this._super(a,b)},_ComponentCreate:function(){var a=["required","title","pattern"],b=this.element,c=this.Bla(b);this._super();this.options.messagesCustom=this.options.messagesCustom||[];this.options.messagesHidden=[];this.options.messagesShown=0<this.options.messagesCustom.length?this.Fpa(this.options.messagesCustom):[];this.VP(b);this.Du()&&(this.Rr(this.options.placeholder),
this.IR=!0);"input"===b[0].tagName.toLowerCase()&&g.each(a,function(a,d){d in c&&b.removeAttr(d)})},Lh:function(){this._super();this.Aqa();this.I5(!1);this.IJ();this.gE(this.Pm.sja);0<this.options.messagesShown.length&&this.lE("messagesShown",this.options.messagesShown,null,!0);this.widget().addClass("oj-form-control")},LB:function(a){this.ina(a)},Qx:function(a){this.Oma(a)},J0:function(a,b){switch(a){case "disabled":this.K0(a,e);break;case "converter":this.Ika(a);break;case "displayOptions":this.IJ();
break;case "help":this.wj(a,this.options[a]);break;case "messagesCustom":this.Gya(b);break;case "placeholder":this.zza(b);break;case "readOnly":this.K0(a,h);break;case "required":this.Jka(a);break;case "title":this.nDa();break;case "translations":this.refresh();break;case "value":this.Kka(a,b);break;case "validators":this.wx(a)}},Ika:function(a){var b=!1;this.Mma();this.yJ()&&(b=!0);b?(this.XH(),this.nL(d)):this.wj(a,this.options[a],!0)},K0:function(a,b){var c=!this.options[a];this.wj(a,this.options[a]);
c&&this.qba(b)},Jka:function(a){this.wj(a,this.options[a]);this.qba(f)},Kka:function(a,b){var c=b?b._context:null,d,e=!1;c&&(e=c.originalEvent?!0:!1,d=c.jt||!1);e||(d||this.WH(null),this.gE(this.Pm.Cka));this.wj(a,this.options[a],!0)},wx:function(){var a=!1;this.q2();this.yJ()&&(a=!0);a&&(this.XH(),this.nL(l))},Au:function(){var a=this.options.readOnly||!1;return this.options.disabled||a?!1:!0},_destroy:function(){var b,c,d=this._super();this.widget();this.WH(null,!0);this.ns().dp();if(this.lc)for(c=
this.lc.length,b=0;b<c;b++)this.lc[b]&&null!=a.Components.Kf(this.lc[b])&&g(this.lc[b])._ojLabel("destroy");return d},Focus:function(){this.Vf().focus();return!0},_setOption:function(b,c,d){var e;e=!1;if("string"===typeof b&&void 0!==c)switch(b){case "messagesHidden":e=!0;break;case "messagesShown":e=!0;break;case "rawValue":e=!0}if(e)return a.r.error(b+" option cannot be set"),this;e=this._superApply(arguments);this.J0(b,d);return e},Vf:function(){return this.element},q1:function(){var a;a=this.w6(this.element);
if(null!==a&&0!==a.length)return a;a=this.element.prop("id");if(void 0!==a&&(a=g("label[for\x3d'"+a+"']"),0!==a.length))return a;a=this.element.closest("[aria-labelledby]");return 0!==a.length&&(a=this.w6(a),null!==a&&0!==a.length)?a:null},Gx:function(){return this.element.val()},_GetMessagingLauncherElement:function(){return this.Vf()},Cc:function(){var b;this.Sc||(b=this.options.converter,this.Sc=a.cb.getConverterInstance(b));return this.Sc||null},BB:function(){this.b9||(this.b9={});return this.b9},
Li:function(){return this.Vf().val()},o1:function(){var b,c,d,e,h=!0,k,f,g;if(!this.XB){b=[];f=this.options.validators;d=this.BB();e=[];k=Object.keys(d);var l=k.length;if(0<l){for(c=0;c<l;c++)g=k[c],e.push(d[g]);b=b.concat(e)}if(f){d=[];for(c=0;c<f.length;c++)k=f[c],"object"===typeof k?(k.validate&&"function"===typeof k.validate||(h=!1),h||(g=k.type)&&"string"===typeof g&&((e=a.Da.$w(g))?(k=a.Wc.qf({},k.options)||{},k.converter=k.converter||this.Cc(),k.label=k.label||this.RS(),k=e.createValidator(k)):
a.r.error("Unable to locate a validatorFactory for the requested type: "+g)),d.push(k)):a.r.error("Unable to parse the validator provided:"+k);b=b.concat(d)}this.XB=b}return this.XB||[]},q2:function(){this.XB&&(this.XB.length=0);this.XB=null;this.ns().update(this.Dl(this.xk.F0))},Mma:function(){this.Sc=null;this.ns().update(this.Dl(this.xk.p_))},bo:function(){return this.options.required},QG:function(a){var b=this.Li();this.Dc(b,a)},Tp:function(a,b){var c={};c._context={originalEvent:b,Ed:!0,pb:!0,
readOnly:!0};this.options.rawValue!==a&&this.option("rawValue",a,c)},wj:function(a,b,c){var d=this.options.help.definition,e=this.options.help.source;switch(a){case "converter":b=this.options.value;this.uV(b,c);break;case "disabled":this.Eaa("disabled",this.options.disabled);break;case "help":this.lc&&(a=this.uS(),this.lc._ojLabel("option","describedById",a),this.lc._ojLabel("option","help",{definition:d,source:e}),this.taa(a));break;case "required":this.Eaa("required",this.bo());this.OP(b);this.lc&&
(a=this.uS(),this.lc._ojLabel("option",{describedById:a,ariaRequiredUnsupported:this.uB()}),this.lc._ojLabel("option","required",b),this.taa(a));break;case "value":this.uV(b,c)}},OP:function(a){var b=this.Vf();a&&b?b.attr("aria-required",a):b.removeAttr("aria-required")},uB:function(){return!1},Nm:function(){this._superApply(arguments);this.ns().close()},uj:function(){this._superApply(arguments);this.ns().close()},RP:function(){this.lc&&this.lc._ojLabel("refresh");this.Sc=this.mU=null;this.q2()},
xl:function(a){var b=this.Vf();b.val()!==a&&b.val(a)},VP:function(a){"boolean"===typeof this.options.disabled&&a.prop("disabled",this.options.disabled)},Rr:function(a){this.Vf().attr("placeholder",a)},u2:function(a){this.options.placeholder=a},Du:function(){return this.options.placeholder},X0:function(){this.u2("");this.Rr("")},Dc:function(b,c,d){var e=d&&"boolean"===typeof d.ow?d.ow:!0;if(void 0===b)return a.r.warn("Attempt to set a value of undefined"),!1;if(e&&b===this.yta())a.r.je>a.r.Fr&&a.r.info("Validation skipped and value option not updated as submitted value '"+
b.toString?b.toString():b+" same as previous.");else if(b=this.mQ(b,c,d),void 0!==b&&this.isValid()){var h;d&&d._context&&(h=d._context);this.pda(b,c,d&&d.sm,h);return!0}return!1},mQ:function(b,c,d){var e=d&&d.dKa?d.dKa:this.QB.z_,h=d&&d.sm?d.sm:this.Pm.zka;d=d&&d.jt||!1;if(void 0===b)a.r.warn("Attempt to set a value of undefined");else if(this.Au()){d||this.WH(c);this.Tba(b);try{return this.tBa(b,e,h,c)}catch(k){}}else a.r.je>a.r.Fr&&a.r.info("Validation skipped and value option not set as component state does not  allow setting value. For example if the component is readonly or disabled.")},
yB:function(b,c,d){return"value"===b?a.b.Vj(c,d):0===b.indexOf("messages")?this.Hya(c,d):this._superApply(arguments)},_GetDefaultStyleClass:function(){a.o.ld();return""},xk:{SA:1,G0:2,p_:3,F0:4,A0:5},Qr:{disabled:"oj-disabled",required:"oj-required"},WH:function(a,b){b?(this.options.messagesHidden=[],this.options.messagesShown=[],this.options.messagesCustom=[]):(this.lC("messagesHidden",a),this.lC("messagesShown",a),this.lC("messagesCustom",a))},XH:function(){var b=this.options.messagesShown,c=b.length,
d;this.lC("messagesHidden");for(var e=c-1;0<=e;e--)d=b[e],d instanceof a.ce&&b.splice(e,1);b.length!==c&&this.lE("messagesShown",b,null,!0)},lE:function(a,b,c,d){var e={},h=0===b.length&&0===this.options[a].length;if(d||!h)e._context={originalEvent:c,Ed:!0,pb:!0},"messagesCustom"!==a&&(e._context.readOnly=!0),e.changed=d||!h,this.fBa(),this.option(a,b,e),this.SDa()},lC:function(a,b){this.lE(a,[],b)},Fpa:function(b){var c,d=[],e;if(b&&0<b.length)for(e=0;e<b.length;e++)c=b[e],c instanceof a.ia?d.push(c.clone()):
(c=new a.ia(c.summary,c.detail,c.severity),c=Object.freeze?Object.freeze(c):c,d.push(c));return d},Aqa:function(){if(this.lc=this.q1()){var a=this.options.help.definition,b=this.options.help.source,c=this.options.required,d=this.uB(),e=this.uS();this.D$(b,a,c,d)&&this.AH(e);this.lc._ojLabel({rootAttributes:{"class":this._GetDefaultStyleClass()+"-label"},describedById:e,required:c,ariaRequiredUnsupported:d,help:{definition:a,source:b}})}},I5:function(a){var b=!1;a?(this.RP(),this.IJ(),this.yJ()&&(b=
!0),this.XH(),b?this.nL(k):(this.bo()&&this.gE(k.sm),this.wj("value",this.options.value,!0))):(this.wj("value",this.options.value),this.wj("required",this.options.required));this.wj("disabled",this.options.disabled)},TKa:function(){return this.L$},yta:function(){void 0===this.bV&&(this.bV="");return this.bV},w6:function(a){a=a.attr("aria-labelledby");return void 0!==a?g("label[id\x3d'"+a+"']"):null},uS:function(){this.element.uniqueId();return this.element.prop("id")+"Icons"},D$:function(a,b,c,d){return null!=
a||null!=b||c&&d},AH:function(a){var b;this.Vf().each(function(){var c=g(this).attr("aria-describedby"),c=c?c.split(/\s+/):[];b=g.inArray(a,c);-1===b&&c.push(a);c=g.trim(c.join(" "));g(this).attr("aria-describedby",c)})},xV:function(a){this.Vf().each(function(){var b,c;c=(b=g(this).attr("aria-describedby"))?b.split(/\s+/):[];b=g.inArray(a,c);-1!==b&&c.splice(b,1);(b=g.trim(c.join(" ")))?g(this).attr("aria-describedby",b):g(this).removeAttr("aria-describedby")})},taa:function(a){this.D$(this.options.help.source,
this.options.help.definition,this.options.required,this.uB())?this.AH(a):this.xV(a)},cJ:function(){return this.options.messagesShown.concat(this.options.messagesHidden)},RS:function(){if(this.lc)return this.lc.text()},f8:function(){this.tda||(this.tda=new a.um(this.isValid(),this.cJ()));return this.tda},dU:function(){return!a.ia.isValid(this.cJ())},yJ:function(){return!this.isValid()&&0<this.options.messagesShown.length},Ewa:function(){for(var b=this.options.messagesShown,c,d,e=0;e<b.length;e++)c=
b[e],c instanceof a.ce&&c.L9()&&(d=d||[],d.push(c));return void 0===d?!1:!a.ia.isValid(d)},IJ:function(){var a=this.ns(),b=this._GetMessagingLauncherElement(),c=this.Vf(),d=this.Dl(this.xk.SA);this.IR||this.X0();a.ct(b,c,d)},Gya:function(b){var c=this.options.messagesCustom,d=[],e,h,k=this.options.messagesShown,f=b?b._context:null;for(h=0;h<k.length;h++)e=k[h],e instanceof a.ce&&e.L9()&&d.push(e);for(h=0;h<c.length;h++)d.push(c[h]);this.lE("messagesShown",d,f?f.originalEvent:null,b&&b.changed)},zza:function(a){a=
(a&&a._context||{}).PHa?!1:!0;this.Rr(this.options.placeholder);a?(this.IR=!0,this.Cc()&&this.IJ()):this.IR=!1},hCa:function(a){this.L$=a},Tba:function(a){this.bV=a},nDa:function(){this.ns().update(this.Dl(this.xk.A0))},lL:function(a,b,c){var d,e,h;if("object"===typeof b&&Array.isArray(b))for(h=this.options[a],d=b.length,e=0;e<d;e++)h.push(b[e]);this.lE(a,h,c,!0)},SDa:function(){this.ns().update(this.Dl())},pda:function(a,b,c,d){d=d||{};b&&(d.originalEvent=b);switch(c){case this.Pm.q_:case this.Pm.u_:case this.Pm.a0:case this.Pm.b0:case this.Pm.c0:case this.Pm.D0:case this.Pm.E0:d.Ed=
!0,d.jt=!0}this.option({value:a},{_context:d})},fBa:function(){this.XW=void 0},qua:function(){var a=this.cJ(),b=!0;a&&0!==a.length&&(b=!this.dU());return b},gv:function(b){var c=b,d=this.Cc();d&&"object"===typeof d&&(d.format&&"function"===typeof d.format?c=d.format(b):a.r.je>a.r.Fr&&a.r.info("converter does not support the format method."));return c},ns:function(){this.fs||(this.fs=new a.wb(this));return this.fs},tta:function(a){var b,c=[];b="";var d;this.bo()&&(b=this.f7(),b.getHint&&"function"===
typeof b.getHint&&(b=b.getHint())&&c.push(b));for(d=0;d<a.length;d++)b=a[d],"object"===typeof b&&b.getHint&&"function"===typeof b.getHint&&(b=b.getHint())&&c.push(b);return c},f7:function(){var b;b={};var c;null==this.mU&&(b=this.options.translations?this.options.translations.required||{}:{},c={hint:b.hint||null,label:this.RS(),messageSummary:b.messageSummary||null,messageDetail:b.messageDetail||null},this.mU=(b=a.Da.$w(a.Pe.VALIDATOR_TYPE_REQUIRED))?b.createValidator(c):null);return this.mU},Dl:function(a){var b=
{},c=this.Cc(),d="",e=[];a=a||this.xk.G0;if(a===this.xk.SA||a===this.xk.G0)e=this.cJ(),this.f8().update(this.isValid(),e),b.hja=this.f8();if(a===this.xk.SA||a===this.xk.p_)c&&"object"===typeof c&&c.getHint&&"function"===typeof c.getHint&&(d=c.getHint()||""),b.eea=d;if(a===this.xk.SA||a===this.xk.F0)c=this.o1(),e=this.tta(c)||[],b.eKa=e;if(a===this.xk.SA||a===this.xk.A0)b.title=this.options.title||"";return b},Hya:function(b,c){var d=-1,e,h=!0,k=g.extend([],b),f=g.extend([],c);if(k.length!==f.length)return!1;
g.each(k,function(b,c){c instanceof a.ia?e=c:(e=new a.ia(c.summary,c.detail,c.severity),e=Object.freeze?Object.freeze(e):e);d=-1;g.each(f,function(a,b){e.Kq(b)&&(d=a)});-1<d?f.splice(d,1):h=!1});return h},kK:function(b){var c=this.Cc(),d=b;c&&"object"===typeof c&&(c.parse&&"function"===typeof c.parse?d=c.parse(b):a.r.je>a.r.Fr&&a.r.info("converter does not support the parse method."));return d},uQ:function(b,c){var d,e,h;b instanceof a.sg||b instanceof a.qk?(d=b.Zz(),a.o.ue(d,a.ia),h=d.severity,e=
d.summary,d=d.detail):(h=a.ia.Xc.ERROR,e=a.va.F("oj-message.error"),d=b.message||a.va.F("oj-converter.detail"));c.push({summary:e,detail:d,severity:h})},nV:function(b,c,d){var e={},h=[],k=b.xD||[];e.context=c||0;e.display=d||a.ce.ex.GO;0===k.length&&this.uQ(b,k);for(c=0;c<k.length;c++)b=k[c],h.push(this.lqa(b.summary,b.detail,b.severity,e));return h||null},lqa:function(b,c,d,e){b=new a.ce(b,c,d,e);return b=Object.seal?Object.seal(b):b},uV:function(a,b){var c=a||this.options.value,d;d=this.L$;(b||
c!==d)&&this.ODa(c)},Eaa:function(a,b){-1!==Object.keys(this.Qr).indexOf(a)&&this.widget().toggleClass(this.Qr[a],!!b)},gE:function(b){if(this.Au())try{this.sda(this.options.value,this.QB.d0)}catch(c){(b=this.nV(c,b,a.ce.ex.oO))&&this.lL("messagesHidden",b)}else a.r.je>a.r.Fr&&a.r.info("Deferred validation skipped as component is readonly or disabled.")},tBa:function(a,b,c,d){var e=a;try{b===this.QB.z_&&(e=this.kK(a)),this.sda(e,b===this.QB.d0)}catch(h){throw a=this.nV(h,c),this.lL("messagesShown",
a,d),h;}return e},qba:function(a){var b=!0;this.yJ()&&(b=!1);this.XH();b?this.bo()&&this.gE(a.sm):this.nL(a)},ODa:function(a,b){var c,d;this.hCa(a);c=a;try{c=this.gv(a)}catch(e){d=this.nV(e),this.lL("messagesShown",d,b)}this.xl(c);c=this.Li();this.Tba(c);this.Tp(c,null)},nL:function(a){var b;b=this.mQ(this.Li(),null,a);void 0===b||!this.isValid()&&this.Ewa()||this.pda(b,null,a.sm)},sda:function(b,c){var d=this.o1(),e,h,k=[];if(this.bo()){e=this.f7();try{e.validate(a.bb.trim(b))}catch(f){this.uQ(f,
k)}}if(!c)for(h=0;h<d.length;h++)if(e=d[h],"object"===typeof e)if(e.validate&&"function"===typeof e.validate)try{e.validate(b)}catch(g){this.uQ(g,k)}else a.r.je>a.r.Fr&&a.r.info("validator does not support the validate method.");if(0<k.length)throw d=Error(),d.xD=k,d;}},!0);a.Components.Dp({editableValue:{displayOptions:a.Components.jg(function(a){return{messages:0<=a.containers.indexOf("ojDataGrid")||0<=a.containers.indexOf("ojTable")?["notewindow"]:["inline"],converterHint:["placeholder","notewindow"],
validatorHint:["notewindow"],title:["notewindow"]}})}});a.Me={};o_("EditableValueUtils",a.Me,a);a.Me.ZFa=function(a,b){var c,d,e={};if(a&&b)switch(b){case "disabled":c=void 0!==a.attr("disabled")?!!a.prop("disabled"):void 0;break;case "pattern":c=a.prop("pattern")||void 0;break;case "placeholder":c=a.prop("placeholder")||void 0;break;case "readonly":c=void 0!==a.attr("readonly")?!!a.prop("readonly"):void 0;break;case "required":c=a.attr("required");d=a.prop("required");c=void 0!==c?void 0!==d?!!d:
!!c:void 0;break;case "title":c=void 0!==a.attr("title")?a.prop("title"):void 0;break;case "value":c=a.val()||void 0;break;default:c=a.attr(b)||void 0}void 0!==c?(e.Iea=!0,e.value=c):e.Iea=!1;return e};a.Me.mp=function(b,c,d,e){for(var h={},k=0;k<b.length;k++){var f,g=b[k];f=g.ha;var l=g.option||f,v=g.qh,g=g.Pd,y=d.element,x=d.options[l];void 0===c[l]&&(x=d.options[l],f=a.Me.ZFa(y,f),f.Iea&&(f=f.value,v&&("boolean"===typeof v?f=a.Me.UEa(l,f):"function"===typeof v&&(f=v.call(d,f))),h[l]=f));v=l in
h?h[l]:x;g&&"boolean"===typeof g&&a.Me.cKa(l,v)}null!=e&&e(h);d.option(h,{_context:{Ed:!0,pb:!0}})};a.Me.cKa=function(a,b){var c=!1;switch(a){case "required":null!==b&&"boolean"!==typeof b&&(c=!0);break;case "readOnly":case "disabled":null!==b&&"boolean"!==typeof b&&(c=!0)}if(c)throw"Option '"+a+"' has invalid value set: "+b;};a.Me.UEa=function(a,b){var c=b;switch(a){case "required":c=b?!0:!1}return c};a.Me.HZ=function(a,b){if(a&&b){var c=b["class"];c&&a.addClass(c);if(c=b.style){var d=a.attr("style");
d?a.attr("style",d+";"+c):a.attr("style",c)}}};a.ah=function(a){this.Init(a)};a.wb.zN(a.wb.Re.dB,a.ah);a.b.ta(a.ah,a.md,"oj.InlineMessagingStrategy");a.ah.prototype.Qw=function(b){a.ah.u.Qw.call(this,b);this.waa()};a.ah.prototype.NZ=function(a){return a&&void 0!==a.hja?!0:!1};a.ah.prototype.update=function(){a.ah.u.update.call(this);this.waa()};a.ah.prototype.dp=function(){this.Vaa();a.ah.u.dp.call(this)};a.ah.prototype.waa=function(){var a,b;b=this.Bm().widget();(a=this.Uoa())&&null==this.xf&&(this.xf=
g("\x3cdiv class\x3d'oj-messaging-inline-container'\x3e\x3c/div\x3e"),this.AH(this.xf),this.Hna(this.xf),b.append(this.xf));null!=this.xf&&(a?(b=this.xf[0],b.innerHTML=a):this.Vaa())};a.ah.prototype.Vaa=function(){null!=this.xf&&(this.xV(this.xf),this.vAa(this.xf),this.xf.remove(),delete this.xf)};a.ah.prototype.AH=function(b){var c,d;d=this.kl();a.o.ue(d,jQuery);a.o.ue(b,jQuery);b=b.uniqueId().attr("id");c=(c=d.attr("aria-describedby"))?c.split(/\s+/):[];c.push(b);c=g.trim(c.join(" "));d.attr("aria-describedby",
c)};a.ah.prototype.Hna=function(b){a.o.ue(b,jQuery);b.attr("aria-live","polite")};a.ah.prototype.xV=function(b){var c,d;d=this.kl();a.o.ue(d,jQuery);a.o.ue(b,jQuery);b=b.attr("id");c=(c=d.attr("aria-describedby"))?c.split(/\s+/):[];b=g.inArray(b,c);-1!==b&&c.splice(b,1);(c=g.trim(c.join(" ")))?d.attr("aria-describedby",c):d.removeAttr("aria-describedby")};a.ah.prototype.vAa=function(b){a.o.ue(b,jQuery);b.removeAttr("aria-live")};a.ah.prototype.Uoa=function(){var a;return this.w0()?(a=this.Bm().document[0],
this.IQ(a)):""};a.ah.prototype.IQ=function(b){var c="",d=this.kO();this.tO()&&(c=this.lO(),c=a.tb.Nda(b,c,d,!0));return c};(function(){a.Na("oj._ojLabel",g.oj.baseComponent,{version:"1.0.0",defaultElement:"\x3clabel\x3e",widgetEventPrefix:"oj",options:{ariaRequiredUnsupported:!1,describedById:null,help:{definition:null,source:null},required:!1,rootAttributes:null},Ka:{P2:"tooltipHelp",Q2:"tooltipRequired"},widget:function(){return this.Zw},refresh:function(){this._super();this.zaa();this.vaa()},Wf:function(a,
b){this._super(a,b);this.spa();this.bR()},_ComponentCreate:function(){this._super();this.bL=this.eventNamespace+"TouchEatClick";this.Ky=this.eventNamespace+"HelpDefPopup";this.Zr=a.A.Ke();this.Ora()},LB:function(a){this.hE=a.attr("class")},Qx:function(){this.hE?this.element.attr("class",this.hE):this.element.removeAttr("class")},uj:function(){this._superApply(arguments);this.mR()},Nm:function(){this._superApply(arguments);this.mR()},Ora:function(){var a=this.options,b=a.ariaRequiredUnsupported,c=
null,d=a.required,a=this.E$();this.Zw=this.element.wrap(this.Pqa()).closest(".oj-component");this.Pya();a&&(c=this.xR());this.T4(c);d&&(a=this.CR(),b?c.appendChild(a):this.element.before(a))},T4:function(a){this.ED()&&(this.txa(a),this.Coa())},spa:function(){var a=this.options.required;if(null!==a&&"boolean"!==typeof a)throw Error("Option 'required' has invalid value set: "+a);},bR:function(){var a=this.options;if(this.E$()&&null==a.describedById)throw Error("ojLabel's describedById option must be set if help source is set\n\r\n      or (ariaRequiredUnsupported and required is set).");
},Pya:function(){var a;a=this.element.attr("class");var b,c;if(a&&(a=a.split(/\s+/),null!=a)){c=a.length;for(var d=0;d<c;d++)b=a[d],0<b.indexOf("-label")&&(this.Zw.addClass(b),this.element.removeClass(b))}},xR:function(){var a=this.Zw.find(".oj-label-group"),b=document.createElement("span");b.setAttribute("id",this.options.describedById);a.prepend(b);return b},Pqa:function(){var a,b,c=this.options.rootAttributes;b="oj-label oj-component";c&&(a=c["class"]);null!==a&&(b=b+" "+a);a=document.createElement("div");
a.className=b;b=document.createElement("div");b.className="oj-label-group";a.appendChild(b);return a},CR:function(){var a=this.F(this.Ka.Q2),b=document.createElement("span");b.className="oj-label-required-icon oj-component-icon";b.setAttribute("role","img");b.setAttribute("title",a);b.setAttribute("aria-label",a);return b},qqa:function(b,c){var d;if(this.ED()){d=document.createElement("a");d.setAttribute("tabindex","0");d.setAttribute("target","_blank");d.className="oj-label-help-icon-anchor oj-label-help-icon oj-component-icon oj-clickable-icon-nocontext";
if(c)try{a.A.bKa(c),d.setAttribute("href",c)}catch(e){throw Error(e+". The source option ("+c+") is invalid.");}else d.setAttribute("role","img");b?d.setAttribute("aria-label",b):d.setAttribute("aria-label",this.F(this.Ka.P2))}return d},Coa:function(){var a,b=this.options.help.definition,d,e;e=this.widget().find(".oj-label-help-icon-anchor");if(0!=e.length){a=b?b:this.F(this.Ka.P2);this.wv?(d=g(document.getElementById(this.wv)))&&d.text(a):(b=document.createElement("div"),b.style.display="none",b.className=
"oj-help-popup-container",d=g(b),d.uniqueId(),this.wv=d.prop("id"),d.text(a),a=document.getElementsByTagName("body")[0],a.appendChild(b));this.Zr&&(this.aS&&this.widget().off(this.bL),this.aS=function(){return!1});var h=this;this.jK||(this.jK=function(a){h.ewa(a,d,e)});this.oR||(this.oR=function(){h.mR()});if(this.Zr)e.hj({recognizers:[[c.Press,{time:750}]]}).on("press",this.jK);else e.on("focusin"+this.Ky+" mousedown"+this.Ky+" mouseover"+this.Ky,this.jK),e.on("mouseout"+this.Ky,this.oR);b={my:"start bottom",
at:"end top",collision:"flipcenter",of:e};d.ojPopup({position:b,modality:"modeless",rootAttributes:{"class":"oj-help-popup"}})}},ewa:function(a,b,c){if(this.Zr)if("press"===a.type){var d=this.widget();d.on("click"+this.bL,this.aS);var e=this;b.on("ojclose",function(){d.off(e.bL)})}else b.off("ojclose");b.ojPopup("isOpen")||b.ojPopup("open",c)},mR:function(){var a;null!=this.wv&&(a=g(document.getElementById(this.wv)),a.ojPopup("close"))},Saa:function(a){this.Zr&&(this.widget().off(this.bL),this.aS=
null,a.hj().off(this.Ky));a.off(this.Ky);this.oR=this.jK=null},Taa:function(){var a;if(null!=this.wv){if(a=g(document.getElementById(this.wv)))a.ojPopup("destroy"),a.remove();this.wv=null}},txa:function(a){var b,c;this.ED()&&(b=this.options.help.definition,c=this.options.help.source,g(a).prepend(this.qqa(b,c)))},E$:function(){var a=this.options;return this.ED()||a.ariaRequiredUnsupported&&a.required},ED:function(){var a=this.options;return a.help.source||a.help.definition},vaa:function(){var a,b;
this.bR();a=this.Zw.find(".oj-label-help-icon");1===a.length&&(this.Saa(a),this.Taa(),a.remove());b=this.ED();a=document.getElementById(this.options.describedById);b&&null==a?a=this.xR():b||null===a||0===a.children.length&&a.parentNode.removeChild(a);this.T4(a)},zaa:function(){var a,b;b=this.Zw.find(".oj-label-required-icon");a=this.options.describedById;this.options.required?(this.bR(),0===b.length?this.options.ariaRequiredUnsupported?(b=document.getElementById(a),null==b&&(b=this.xR()),b.appendChild(this.CR())):
this.element.before(this.CR()):(a=this.F(this.Ka.Q2),b.attr("title",a))):(b.remove(),b=document.getElementById(a),null!==b&&0===b.children.length&&b.parentNode.removeChild(b))},_setOption:function(a,b){this._superApply(arguments);"required"===a&&this.zaa();"help"===a&&this.vaa()},getNodeBySubId:function(a){var b;b=this._super(a);b||(a=a.subId,"oj-label-help-icon"===a&&(b=this.widget().find(".oj-label-help-icon")[0]),"oj-label-required-icon"===a&&(b=this.widget().find(".oj-label-required-icon")[0]));
return b||null},getSubIdByNode:function(a){var b=null;null!=a&&(a===this.widget().find(".oj-label-help-icon")[0]?b={subId:"oj-label-help-icon"}:a===this.widget().find(".oj-label-required-icon")[0]&&(b={subId:"oj-label-required-icon"}));return b||this._superApply(arguments)},_destroy:function(){var b=this.Zw.find(".oj-label-help-icon");this.Saa(b);this.Taa();a.A.unwrap(this.element,this.Zw);return this._super()}})})();a.Mb=function(a){this.Init(a)};a.wb.zN(a.wb.Re.vG,a.Mb);a.b.ta(a.Mb,a.md,"oj.PopupMessagingStrategy");
a.Mb.Dx={ojRadioset:{position:"launcher",wn:{open:"focusin mouseenter press",close:"mouseleave"}},ojCheckboxset:{position:"launcher",wn:{open:"focusin mouseenter press",close:"mouseleave"}},ojInputText:{position:"launcher",wn:{open:"focusin"}},ojTextArea:{position:"launcher",wn:{open:"focusin"}},ojInputPassword:{position:"launcher",wn:{open:"focusin"}},ojSwitch:{position:"launcher",wn:{open:"focusin mouseover",close:"mouseout"}},ojSlider:{position:"launcher",wn:{open:"focusin mouseover",close:"mouseout"}},
"default":{position:"launcher-wrapper",wn:{open:"focusin"}}};a.Mb.SP="oj-form-control-hint";a.Mb.Qma="oj-form-control-hint-converter";a.Mb.Sma="oj-form-control-hint-validator";a.Mb.Rma="oj-form-control-hint-title";a.Mb.prototype.ct=function(b){a.Mb.u.ct.call(this,b);this.exa()};a.Mb.prototype.Qw=function(b){a.Mb.u.Qw.call(this,b);this.nda()};a.Mb.prototype.update=function(){a.Mb.u.update.call(this);this.nda()};a.Mb.prototype.dp=function(){this.CDa();this.lra();a.Mb.u.dp.call(this)};a.Mb.prototype.close=
function(){this.nR()};a.Mb.prototype.nR=function(){this.S9()&&this.xf.ojPopup("close")};a.Mb.prototype.exa=function(){this.iK||this.rAa()};a.Mb.prototype.P$=function(b){var c,d;d=this.kl();if(this.kpa()&&(c=this.O3(),!a.bb.Yl(c))){var e=this.B7(),h=e.ojPopup("isOpen");h?h&&(b=e[0],b.innerHTML="",b.innerHTML=c,e.ojPopup("refresh")):("press"===b.type&&this.kza(d),b=e[0],b.innerHTML="",b.innerHTML=c,e.ojPopup("open",d))}};a.Mb.prototype.kza=function(a){var b=!0;this.vo=function(a){b&&(a.preventDefault(),
a.stopPropagation(),"click"===a.type&&(b=!1))};a[0].addEventListener("click",this.vo,!0);a[0].addEventListener("change",this.vo,!0);a.one("touchend",function(){setTimeout(function(){b=!1},50)})};a.Mb.prototype.kpa=function(){var a=this.Bm().options,b=a.readOnly||!1;return!(a.disabled||b)};a.Mb.prototype.nda=function(){var a,b,c=!1,d;this.S9()&&(d=this.B7(),c=d.ojPopup("isOpen"),a=this.O3(),b=document.activeElement===this.kl()[0]?!0:!1,c?a?(b=d[0],b.innerHTML="",b.innerHTML=a,d.ojPopup("refresh")):
d.ojPopup("close"):b&&a&&this.P$(void 0))};a.Mb.prototype.CDa=function(){var b,c,d,e,h;b=(b=a.Mb.Dx[this.Bm().widgetName])?b.wn:a.Mb.Dx["default"].wn;if(d=b.open)c=this.iK,delete this.iK,c&&(h=d.indexOf("press"),e=d.replace("press"," "),d=this.kl(),d.off(e,c),this.vo&&(d[0].removeEventListener("click",this.vo,!0),d[0].removeEventListener("change",this.vo,!0),delete this.vo),-1!==h&&(d.hj().off("press"),d.removeData("ojHammer")));(c=b.close)&&(b=this.D4)&&this.kl().off(c,b)};a.Mb.prototype.rAa=function(){var b,
d,e,h=this.kl(),k;d=(d=a.Mb.Dx[this.Bm().widgetName])?d.wn:a.Mb.Dx["default"].wn;d.open&&(b=this.iK,b||(b=this.iK=g.proxy(this.P$,this)),k=d.open.indexOf("press"),e=d.open.replace("press"," "),h.on(e,b),-1!==k&&(e={recognizers:[[c.Press,{time:750}]]},h.hj(e).on("press",b)));d.close&&(b=this.D4,b||(b=this.D4=g.proxy(this.nR,this)),h.on(d.close,b))};a.Mb.prototype.Wta=function(){var b,c;(b=(b=a.Mb.Dx[this.Bm().widgetName])?b.position:a.Mb.Dx["default"].position)&&("launcher"===b?c=this.kl():"launcher-wrapper"===
b&&(c=this.kl().parent()));c||(c=this.Bm().widget());return{my:"start bottom",at:"end top",collision:"flipcenter",of:c}};a.Mb.prototype.B7=function(){var b,c;if(this.xf)return this.xf;b=a.ff.ofa();c=this.Wta();b.ojPopup("option","position",c);b.ojPopup("option","close",g.proxy(this.Aza,this));b.ojPopup("option","open",g.proxy(this.Bza,this));return this.xf=b};a.Mb.prototype.Bza=function(b){var c=g(b.target),d=this;window.setTimeout(function(){a.Components.AY(c)?c.ojPopup("option","autoDismiss","focusLoss"):
delete d.xf},10)};a.Mb.prototype.Aza=function(b){var c=this.kl();b=g(b.target);a.Components.AY(b)&&(b.ojPopup("option","autoDismiss","none"),b.ojPopup("option","open",null),b.ojPopup("option","close",null));this.vo&&(c[0].removeEventListener("click",this.vo,!0),c[0].removeEventListener("change",this.vo,!0),delete this.vo);delete this.xf;b.children().remove()};a.Mb.prototype.lra=function(){this.nR();a.ff.AFa()};a.Mb.prototype.O3=function(){var b=!1,c=this.Bm().document[0],d=[],e="";this.w0()&&d.push(this.IQ(c));
(this.OO()||this.y0()||this.x0())&&d.push(this.Toa(c));g.each(d,function(d,h){h&&(b?e=e.concat(a.tb.tGa(c)):b=!0,e=e.concat(h))});return e};a.Mb.prototype.IQ=function(b){var c="",d=this.kO();this.tO()&&(c=this.lO(),c=a.tb.Nda(b,c,d,!1));return c};a.Mb.prototype.Toa=function(b){var c;c=[];var d="",e;this.OO()&&(c=this.F_(),c=c.length?c[0]:"",d+=a.tb.kX(b,a.Mb.Qma,c,!1,a.Mb.SP));if(this.y0())for(c=this.Qja(),e=0;e<c.length;e++)d+=a.tb.kX(b,a.Mb.Sma,c[e],!1,a.Mb.SP);this.x0()&&(d+=a.tb.kX(b,a.Mb.Rma,
this.Pja(),!0,a.Mb.SP));return d?"\x3cdiv class\x3d'oj-form-control-hints'\x3e"+d+"\x3c/div\x3e":""};a.Mb.prototype.S9=function(){return this.xf?a.Components.AY(this.xf):!1};a.tb={};a.tb.kX=function(b,c,d,e,h){var k;d&&(k=g(b.createElement("div")),k.addClass(h+(" "+c)),k.append(a.tb.W7(b,d,e)));return k?k.get(0).outerHTML:""};a.tb.Cfa=function(b){var c;switch(b){case a.ia.Xc.FATAL:c=a.va.F("oj-message.fatal");break;case a.ia.Xc.ERROR:c=a.va.F("oj-message.error");break;case a.ia.Xc.WARNING:c=a.va.F("oj-message.warning");
break;case a.ia.Xc.INFO:c=a.va.F("oj-message.info");break;case a.ia.Xc.CONFIRMATION:c=a.va.F("oj-message.confirmation")}return c};a.tb.tGa=function(a){return(a=g(a.createElement("hr")))?a.get(0).outerHTML:""};a.tb.Nda=function(b,c,d,e){var h="",k,f,g=[],l={},v;for(f=0;f<c.length;f++)k=c[f],g=k instanceof a.ia?k:new a.ia(k.summary,k.detail,k.severity),v=a.ia.bA(g.severity),l[v]||(l[v]=[]),l[v].push(g);for(f=d;f>=a.ia.Xc.CONFIRMATION;f--)for(g=l[f]||[],c=0;c<g.length;c++)k=g[c],a.o.ue(k,a.ia),v=a.ia.bA(k.severity),
d=a.tb.Cfa(v),d=k.summary||d,k=k.detail||"",h=h.concat(a.tb.Mda(b,d,k,v,e));return h};a.tb.Mda=function(b,c,d,e,h){var k,f;f=a.tb.Cfa(e);k=g(b.createElement("div"));k.addClass(a.tb.Tma);h&&k.addClass(a.tb.fua(e));h=g(b.createElement("span"));h.addClass(a.tb.eua(e)).attr("title",f).attr("role","img");k.append(h);e=g(b.createElement("span"));e.addClass(a.tb.Wma);f=g(b.createElement("div"));f.addClass(a.tb.$ma).text(c);e.append(f);d&&(c=a.tb.W7(b,d,!0),b=g(b.createElement("div")),b.addClass(a.tb.Xma).append(c),
e.append(b));k.append(e);return k?k.get(0).outerHTML:""};a.tb.eua=function(b){var c;switch(b){case a.ia.Xc.FATAL:c=a.tb.s2;break;case a.ia.Xc.ERROR:c=a.tb.s2;break;case a.ia.Xc.WARNING:c=a.tb.bna;break;case a.ia.Xc.INFO:c=a.tb.Zma;break;case a.ia.Xc.CONFIRMATION:c=a.tb.Vma}return a.tb.Yka+c};a.tb.fua=function(b){switch(b){case a.ia.Xc.FATAL:b=a.tb.r2;break;case a.ia.Xc.ERROR:b=a.tb.r2;break;case a.ia.Xc.WARNING:b=a.tb.ana;break;case a.ia.Xc.INFO:b=a.tb.Yma;break;default:b=a.tb.Uma}return b};a.tb.W7=
function(b,c,d){var e=null;a.bb.Je(c)&&(d&&a.A.THa(c)?e=a.A.QEa(c.substring(6,c.length-7)):(e=b.createElement("span"),e.textContent=c));return e};a.tb.Yka="oj-component-icon oj-message-status-icon ";a.tb.Tma="oj-message";a.tb.$ma="oj-message-summary";a.tb.Xma="oj-message-detail";a.tb.Wma="oj-message-content";a.tb.s2="oj-message-error-icon";a.tb.bna="oj-message-warning-icon";a.tb.Zma="oj-message-info-icon";a.tb.Vma="oj-message-confirmation-icon";a.tb.r2="oj-message-error";a.tb.ana="oj-message-warning";
a.tb.Yma="oj-message-info";a.tb.Uma="oj-message-confirmation";a.ff={};a.ff.ofa=function(){var b=a.ff.A7(),c=b.find("."+a.ff.TP);0===c.length?(c=g(a.ff.Vta()).hide(),c.appendTo(b),c.ojPopup({rootAttributes:{"class":a.ff.cna},initialFocus:"none",tail:"simple",autoDismiss:"none",modality:"modeless"})):c=g(c[0]);return c};a.ff.AFa=function(){var b;0<a.ff.ota()&&(b=a.ff.ofa(),b.ojPopup("destroy"),b.remove())};a.ff.A7=function(){var b=g("#"+a.ff.M1);if(0<b.length)return b;b=g("\x3cdiv\x3e");b.attr("id",
a.ff.M1);b.attr("role","presentation");b.appendTo(g(document.body));return b};a.ff.ota=function(){return a.ff.A7().find("."+a.ff.TP).length};a.ff.Vta=function(){return"\x3cdiv class\x3d'"+a.ff.TP+"'\x3e\x3c/div\x3e"};a.ff.TP="oj-messaging-popup-container";a.ff.cna="oj-messaging-popup";a.ff.M1="__oj_messaging_popup_pool";a.Components.Ua("editableValue","baseComponent",{properties:{disabled:{type:"boolean"},displayOptions:{type:"Object"},help:{type:"Object\x3cstring, string\x3e"},messagesCustom:{type:"Array"},
messagesHidden:{type:"Array"},messagesShown:{type:"Array"},required:{type:"boolean"},title:{type:"string"},validators:{type:"Array"},value:{type:"Object",writeback:!0}},methods:{getNodeBySubId:{},isValid:{},refresh:{},reset:{},showMessages:{},validate:{}},extension:{_widgetName:"editableValue"}})});