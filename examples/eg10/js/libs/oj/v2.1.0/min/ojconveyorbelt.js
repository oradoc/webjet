/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(a,g){function c(a,c,e,f,g,k,l){this.od=a;this.nza=c;this.ey=e;this.NH=f;g&&(g.IIa&&(this.Gza=g.IIa),g.xIa&&(this.Zya=g.xIa),g.Lha&&(this.Hza=g.Lha),g.wha&&(this.$ya=g.wha),g.Kha&&(this.Fza=g.Kha),g.vha&&(this.Yya=g.vha));k&&(k.lia&&(this.wba=k.lia),k.PFa&&(this.qS=k.PFa),k.NEa&&(this.Su=k.NEa),k.Pk&&(this.EH=k.Pk),k.om&&(this.yK=k.om),k.ME&&(this.yj=k.ME),k.WF&&(this.gg=k.WF),k.jga&&(this.eU=k.jga));l&&(l.dea&&(this.N4=l.dea),l.Iga&&(this.$J=
l.Iga),l.mga&&(this.Ly=l.mga));this.LH=!0;this.uy=0;a=navigator.userAgent.toLowerCase();if(-1!==a.indexOf("gecko/"))this.Ioa=!0;else if(-1!==a.indexOf("opera"))this.Joa=!0;else if(-1!==a.indexOf("applewebkit")||-1!==a.indexOf("safari"))this.Koa=!0}c.prototype.Nn=function(a){var d=this;if(a){this.tqa();this.Lqa(this.Gza,this.Hza,this.Fza);this.xqa(this.Zya,this.$ya,this.Yya);var e=this.Pj;this.T3=e.offsetWidth;this.S3=e.offsetHeight;this.FJ();this.DJ();this.AD=function(a){d.cwa(a)};c.Rh(this.od,"mousewheel",
this.AD);c.Rh(this.od,"wheel",this.AD);this.uW=function(a){d.cU(a)};c.Rh(this.fe,"touchstart",this.uW);this.sW=function(a){d.bU(a)};c.Rh(this.fe,"touchmove",this.sW);this.xE=function(a){d.$T(a)};c.Rh(this.fe,"touchend",this.xE);c.Rh(this.fe,"touchcancel",this.xE);this.eV=0}else this.Laa();this.kR();this.q3(a);this.Gg(!0);a&&this.EH&&(this.Jj=function(){d.Gg(!1)},this.EH.call(this.Su,this.od,this.Jj),this.EH.call(this.Su,this.fe,this.Jj))};c.prototype.destroy=function(){var a=this.od;c.fg(a,"mousewheel",
this.AD);c.fg(a,"wheel",this.AD);c.fg(this.fe,"touchstart",this.uW);c.fg(this.fe,"touchmove",this.sW);c.fg(this.fe,"touchend",this.xE);c.fg(this.fe,"touchcancel",this.xE);this.xE=this.sW=this.uW=this.AD=null;this.yK&&this.Jj&&(this.yK.call(this.Su,a,this.Jj),this.yK.call(this.Su,this.fe,this.Jj));this.Jj=null;this.bBa(this.fe,a);this.B3=null;a.removeChild(this.fe);a.removeChild(this.Pj);a.removeChild(this.Kk);this.fe=this.Kk=this.Pj=null;this.kR();this.ey=this.Su=this.eU=this.gg=this.yj=this.yK=this.EH=
this.qS=this.wba=this.od=null};c.prototype.hF=function(){this.Gg(!1)};c.prototype.cBa=function(a,c){for(var e=null,f=a.childNodes;0<f.length;){e||(e=[]);var g=f[0];c.appendChild(g);1===g.nodeType&&(e.push(g),this.$J&&this.yj(g,this.$J))}return e};c.prototype.bBa=function(a,c){if(a)for(var e=a.childNodes;0<e.length;){var f=e[0];c.appendChild(f);1===f.nodeType&&this.$J&&this.gg(f,this.$J)}};c.LC=function(a){var c=a.ownerDocument.defaultView,e=null;return e=c?c.getComputedStyle(a,null):a.currentStyle};
c.ita=function(a){a=c.LC(a);return c.Qi(a.width)};c.hta=function(a){a=c.LC(a);return c.Qi(a.height)};c.Qi=function(a){return 0<a.length&&"auto"!=a?(a=parseInt(a,10),isNaN(a)&&(a=0),a):0};c.Rh=function(a,c,e){a.addEventListener?a.addEventListener(c,e,!1):a.attachEvent&&a.attachEvent("on"+c,e)};c.fg=function(a,c,e){a.removeEventListener?a.removeEventListener(c,e,!1):a.detachEvent&&a.detachEvent("on"+c,e)};c.tua=function(a){var c=0;return c=null!=a.wheelDelta?a.wheelDelta:null!=a.deltaY?-a.deltaY:-a.detail};
c.IKa=function(){var a=document.createElement("div");a.style.display="table";return a};c.JKa=function(){var a=document.createElement("div");a.style.display="table-row";return a};c.HKa=function(){var a=document.createElement("div");a.style.display="table-cell";return a};c.tLa=function(a,c,e,f){var g=document.createElement("div"),k=g.style;k.display="inline-block";g.appendChild(a);c.appendChild(g);e&&(k.maxWidth=g.offsetWidth+"px");f&&(k.maxHeight=g.offsetHeight+"px");return g};c.prototype.vd=function(){return"horizontal"===
this.nza};c.prototype.Ixa=function(){return!this.I6().hasChildNodes()};c.prototype.Laa=function(){this.eV=this.Ej();this.XV(0);this.FJ();this.DJ()};c.prototype.kR=function(){this.UK=this.Gf=null};c.prototype.Gg=function(a){a||this.Laa();this.kR();this.Gf&&this.UK||(this.Gf=this.s$());a||this.q3(!1);this.poa()};c.prototype.poa=function(){var a=this.Pj.style,c=this.Kk.style,e=this.fe,f=this.Gf;this.vd()?(e=.5*(f.Zj-e.offsetHeight),a.top=e+"px",c.top=e+"px"):(e=.5*(f.xi-e.offsetWidth),this.NH&&(e=-e),
a.left=e+"px",c.left=e+"px")};c.prototype.q3=function(a){var d=this.fe,e=this.vd(),f=e?c.ita(this.od):c.hta(this.od);this.yD=0;this.wD=e?d.scrollWidth-f+this.T3:d.scrollHeight-f+this.S3;0>this.wD&&(this.wD=0);this.FJ();this.DJ();this.pz(a?this.yD:this.eV,!0);this.eV=0};c.prototype.tqa=function(){var a=this,d=this.od,e=document.createElement("div");this.fe=e;this.N4&&this.yj(e,this.N4);var f=this.cBa(d,e);if(this.ey)for(var f=[],g=this.ey.children,k=g.length,l=0;l<k;l++){var m=g[l];1===m.nodeType&&
f.push(m)}this.B3=f;d.appendChild(e);c.Rh(e,"scroll",function(){a.owa()})};c.prototype.Lqa=function(a,d,e){var f=this,g=document.createElement("div");this.Kk=g;a&&g.setAttribute("id",a);g.setAttribute("class",d);g.setAttribute("aria-hidden","true");c.Rh(g,"click",function(){f.yba()});e&&g.appendChild(e);this.od.insertBefore(g,this.fe)};c.prototype.xqa=function(a,d,e){var f=this,g=document.createElement("div");this.Pj=g;a&&g.setAttribute("id",a);g.setAttribute("class",d);g.setAttribute("aria-hidden",
"true");c.Rh(g,"click",function(){f.xba()});e&&g.appendChild(e);this.od.appendChild(g)};c.prototype.I6=function(){var a=this.ey;a||(a=this.fe);return a};c.prototype.s$=function(){var a=this.B3,c={xi:0,Zj:0},e=[];if(this.I6().hasChildNodes()&&a&&0<a.length)for(var f=this.vd(),g=0,g=this.fe.scrollWidth,k=0,l=null,m=0;m<a.length;m++){var r=a[m];if(1===r.nodeType){var t=r.offsetWidth,s=r.offsetHeight,n={xi:t,Zj:s,id:r.id};if(f){var p=r.offsetLeft;this.ey||0!==p||(r=r.parentNode,p=r.offsetLeft);n.start=
this.NH?g-(p+t):p;0===m&&(k=n.start);n.start-=k;c.xi=n.start+t;c.Zj=Math.max(c.Zj,s);n.end=c.xi-1}else p=r.offsetTop,this.ey||0!==p||(r=r.parentNode,p=r.offsetTop),n.start=p,c.xi=Math.max(c.xi,t),c.Zj=n.start+s,n.end=c.Zj-1;l&&l.end>=n.start&&(t=l.end-(n.start-1),l.end-=t,f?l.xi-=t:l.Zj-=t);e.push(n);l=n}}this.UK=e;return c};c.prototype.Iy=function(){if(!this.UK){var a=this.s$();this.Gf||(this.Gf=a)}return this.UK};c.prototype.QCa=function(){this.gg(this.Pj,this.Ly)};c.prototype.RCa=function(){this.gg(this.Kk,
this.Ly)};c.prototype.DJ=function(){this.yj(this.Pj,this.Ly)};c.prototype.FJ=function(){this.yj(this.Kk,this.Ly)};c.prototype.Uy=function(){return!this.eU(this.Pj,this.Ly)};c.prototype.qD=function(){return!this.eU(this.Kk,this.Ly)};c.prototype.vS=function(){return this.vd()?this.T3:this.S3};c.prototype.IDa=function(a){var c=this.vS(),e=this.Ej(),f=this.fK();a<=this.yD?(this.qD()&&(e-=c),this.FJ()):f&&(this.qD()||(e+=c),this.RCa());a>=this.wD?(this.Uy(),this.DJ()):f&&(this.Uy(),this.QCa());this.XV(e)};
c.prototype.XV=function(a){var c=this.fe;this.vd()?c.scrollLeft=this.uR(a):c.scrollTop=a};c.prototype.NC=function(){var a=this.fe;return this.vd()?a.offsetWidth:a.offsetHeight};c.prototype.pz=function(a,c){this.Yr||(this.LH=!1,this.Lba(a,c))};c.prototype.Lba=function(a,d){if(!this.Ixa()){this.Yr=!0;a=this.Xpa(a);this.IDa(a);var e=this.wba;if(d||!e||a===this.Ej())this.M$(this.LH?this.Ej():a);else{var f=this;e.call(this.Su,this.fe,this.uR(a),Math.abs(this.Ej()-a)/c.Pma,function(){f.M$(a)})}}};c.prototype.Ej=
function(){var a=this.fe;return this.vd()?this.cqa(a.scrollLeft):a.scrollTop};c.prototype.fK=function(){var a=this.fe;return this.vd()?a.scrollWidth>a.offsetWidth:a.scrollHeight>a.offsetHeight};c.prototype.Xpa=function(a){!this.fK()||a<this.yD?a=this.yD:a>this.wD&&(a=this.wD);return a};c.prototype.cwa=function(a){var d=this.Yr;if(this.fK()&&!this.Yr){var e=c.tua(a);0>e&&this.Uy()?(d=!0,this.xba()):0<e&&this.qD()&&(d=!0,this.yba())}d&&(a.preventDefault(),a.stopPropagation())};c.prototype.cU=function(a){a=
a.touches;this.fK()&&!this.Yr&&1===a.length&&(this.Al=!0,a=a[0],this.dL=this.vd()?a.pageX:a.pageY,this.vW=this.Ej(),this.wDa=this.b4(),this.xDa=this.c4(),this.bda=this.Uy(),this.cda=this.qD())};c.prototype.bU=function(a){var d=this.vd(),e=a.touches[0],e=(d?e.pageX:e.pageY)-this.dL,f=d&&this.NH?0<e:0>e,g=f&&this.bda||!f&&this.cda;if(this.Al&&g){g=this.fe;if(Math.abs(e)<c.fna*(d?g.offsetWidth:g.offsetHeight)){if(this.pz(this.vW-e,!0),this.bda&&!this.Uy()||this.cda&&!this.qD())this.Al=!1}else this.pz(f?
this.wDa:this.xDa,!1),this.Al=!1;this.Xv=!0}this.Xv&&(a.preventDefault(),a.stopPropagation())};c.prototype.$T=function(){this.Al&&this.pz(this.vW,!1);this.Xv=this.Al=!1};c.prototype.owa=function(){this.LH&&!this.Yr&&this.Lba(this.Ej(),!0)};c.prototype.M$=function(a){this.XV(a);this.XBa();this.Yr=!1;if(this.qS){this.uy=this.Z3();a=this.a4();var c=this.Iy(),e=c[this.uy];this.uy!==a&&this.Ej()>e.start&&this.uy<c.length-2&&(this.uy++,e=c[this.uy]);this.usa=e.id;this.qS.call(this.Su,this.usa)}};c.prototype.XBa=
function(){var a=this;window.setTimeout(function(){a&&(a.LH=!0)},0)};c.prototype.xba=function(){this.Yr||this.pz(this.b4(),!1)};c.prototype.yba=function(){this.Yr||this.pz(this.c4(),!1)};c.prototype.b4=function(){var a=this.fpa(),c=0;return c=a===this.Z3()?this.Ej()+this.NC():this.hpa(a)};c.prototype.c4=function(){var a=this.gpa(),c=0,c=a===this.a4()?this.Ej()-this.NC():this.epa(a);this.Uy()||(c+=this.vS());c<this.vS()&&(c=this.yD);return c};c.prototype.hpa=function(a){return this.Iy()[a].start};
c.prototype.epa=function(a){return this.Iy()[a].end-this.NC()+1};c.prototype.Z3=function(){var a=this.SH(this.Ej());return 0>a?0:a};c.prototype.a4=function(){var a=this.SH(this.Ej()+this.NC()-1),c=this.Iy();return 0>a?c.length-1:a};c.prototype.gpa=function(){var a=this.SH(this.Ej()-1);return 0>a?0:a};c.prototype.fpa=function(){var a=this.SH(this.Ej()+this.NC()),c=this.Iy();return 0>a?c.length-1:a};c.prototype.SH=function(a){for(var c=this.Iy(),e=0;e<c.length;e++)if(a<=c[e].end)return e;return-1};
c.prototype.uR=function(a){var c=a;if(this.NH&&this.vd())if(this.Ioa)c=-a;else if(this.Koa||this.Joa)c=this.fe,c=c.scrollWidth-c.offsetWidth-a;return c};c.prototype.cqa=function(a){return this.uR(a)};c.Pma=1.1;c.fna=.33;(function(){a.Na("oj.ojConveyorBelt",g.oj.baseComponent,{defaultElement:"\x3cdiv\x3e",widgetEventPrefix:"oj",options:{orientation:"horizontal",contentParent:null},_ComponentCreate:function(){this._super();this.element.addClass("oj-conveyorbelt oj-component");this.options.disabled&&
a.r.warn(b);this.$a(!0)},refresh:function(){this._super();var a="rtl"===this.jd()!==this.Th;a&&this.PR();this.$a(a)},Rp:function(){this._super();this.Fe?this.$a(this.Fe[0]):this.ay&&this.ay.hF()},Mr:function(){this._super();this.Fe&&this.$a(this.Fe[0])},$a:function(b){var e=this.element,f=this.options,h=f.orientation;"vertical"===h?e.addClass("oj-conveyorbelt-vertical"):e.removeClass("oj-conveyorbelt-vertical");if(this.fC()){this.Fe=null;this.Th="rtl"===this.jd();if(b&&!this.ay){var k=null,l=null,
m=null,r=null,t=null;"vertical"!==h?(k="oj-enabled oj-conveyorbelt-overflow-indicator oj-start oj-default",l="oj-enabled oj-conveyorbelt-overflow-indicator oj-end oj-default",m=this.dI("oj-conveyorbelt-overflow-icon oj-start"),r=this.dI("oj-conveyorbelt-overflow-icon oj-end"),t=this.toa):(k="oj-enabled oj-conveyorbelt-overflow-indicator oj-top oj-default",l="oj-enabled oj-conveyorbelt-overflow-indicator oj-bottom oj-default",m=this.dI("oj-conveyorbelt-overflow-icon oj-top"),r=this.dI("oj-conveyorbelt-overflow-icon oj-bottom"),
t=this.uoa);var s={};s.Lha=k;s.wha=l;s.Kha=m;s.vha=r;k={};k.Pk=a.A.Pk;k.om=a.A.om;k.ME=this.doa;k.WF=this.PAa;k.jga=this.Hwa;"enabled"!==a.ga.QX()&&(k.lia=t);t=null;f.contentParent&&(t=g(f.contentParent)[0]);this.ay=new c(e[0],h,t,this.Th,s,k,{dea:"oj-conveyorbelt-content-container",Iga:"oj-conveyorbelt-item",mga:"oj-helper-hidden"})}this.ay.Nn(b);b&&(b=e.find(".oj-conveyorbelt-overflow-indicator"),this.CCa(b))}else e=!1,this.Fe&&(e=this.Fe[0]),this.Fe=[b||e]},_destroy:function(){this.PR();this.element.removeClass("oj-conveyorbelt oj-component oj-conveyorbelt-vertical");
this._super()},_setOption:function(c,e,f){var g=!1,k=this.options;switch(c){case "containerParent":case "orientation":g=k.orientation!=e;break;case "disabled":a.r.warn(b)}g&&this.PR();this._super(c,e,f);g&&this.$a(!0)},PR:function(){var a=this.ay;a&&(this.element.find(".oj-conveyorbelt-overflow-indicator").off(this.eventNamespace),a.destroy());this.ay=null},fC:function(){var a=document.createElement("div"),b=a.style;b.width="10px";b.height="10px";b["-webkit-flex"]="0 0 auto";b.flex="0 0 auto";b=this.element[0];
b.appendChild(a);var c=!1;try{c=0<a.offsetWidth&&0<a.offsetHeight}catch(g){}b.removeChild(a);return c},CCa:function(a){this.Qe({element:a,afterToggle:function(b){"mouseenter"===b?a.removeClass("oj-default"):"mouseleave"===b&&a.addClass("oj-default")}});this.rk({element:a,afterToggle:function(b){"mousedown"===b||"touchstart"===b?a.removeClass("oj-default"):"mouseup"!==b&&"touchend"!==b&&"touchcancel"!==b||a.addClass("oj-default")}})},dI:function(a){var b=document.createElement("span");b.setAttribute("class",
"oj-component-icon "+a);return b},toa:function(a,b,c,h){var k={};k.scrollLeft=b;g(a).animate(k,c,"swing",h)},uoa:function(a,b,c,h){var k={};k.scrollTop=b;g(a).animate(k,c,"swing",h)},doa:function(a,b){g(a).addClass(b)},PAa:function(a,b){g(a).removeClass(b)},Hwa:function(a,b){return g(a).hasClass(b)},getNodeBySubId:function(a){if(null==a)return this.element?this.element[0]:null;a=a.subId;return"oj-conveyorbelt-start-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-start")[0]:
"oj-conveyorbelt-end-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-end")[0]:"oj-conveyorbelt-top-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-top")[0]:"oj-conveyorbelt-bottom-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-bottom")[0]:null},getSubIdByNode:function(a){for(var b=this.getNodeBySubId({subId:"oj-conveyorbelt-start-overflow-indicator"}),c=this.getNodeBySubId({subId:"oj-conveyorbelt-end-overflow-indicator"}),
g=this.getNodeBySubId({subId:"oj-conveyorbelt-top-overflow-indicator"}),k=this.getNodeBySubId({subId:"oj-conveyorbelt-bottom-overflow-indicator"}),l=this.element[0];a&&a!=l;){if(a===b)return{subId:"oj-conveyorbelt-start-overflow-indicator"};if(a===c)return{subId:"oj-conveyorbelt-end-overflow-indicator"};if(a===g)return{subId:"oj-conveyorbelt-top-overflow-indicator"};if(a===k)return{subId:"oj-conveyorbelt-bottom-overflow-indicator"};a=a.parentElement}return null}});var b="JET ConveyorBelt: 'disabled' option not supported"})();
a.Components.Ua("ojConveyorBelt","baseComponent",{properties:{contentParent:{type:"string"},disabled:{type:"boolean"},orientation:{type:"string"}},methods:{refresh:{}},extension:{_widgetName:"ojConveyorBelt"}});a.Components.register("oj-conveyor-belt",a.Components.getMetadata("ojConveyorBelt"))});